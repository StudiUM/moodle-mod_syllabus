define(["jquery","core/str","core/notification"],function(a,b,c){return{init:function(){b.get_strings([{key:"collapseall"},{key:"expandall"}]).done(function(b){var c=b[0],d=b[1];a(".syllabus").on("click",".collapsible-actions a",function(b){b.preventDefault();var e=a(this).closest("div.tab-pane").attr("id");a(this).hasClass("collapse-all")?(a(this).text(d),a(this).toggleClass("collapse-all expand-all"),a(".syllabus #"+e+" fieldset.collapsible:not(.collapsed) a.fheader").trigger("click")):(a(this).text(c),a(this).toggleClass("collapse-all expand-all"),a(".syllabus #"+e+" fieldset.collapsible.collapsed a.fheader").trigger("click"))}),a(".syllabus").on("click","ul.nav-tabs li.nav-item a",function(b){b.preventDefault();var c=a(this).data("tab");a('input[name="rubric"]').val(c)}),a(".syllabus legend a.fheader").on("click",function(b){b.preventDefault();var e=a(this).attr("aria-controls"),f=a(this).attr("aria-expanded"),g=a(this).closest("div.tab-pane").attr("id");f===!0?a(this).attr("aria-expanded",!1):a(this).attr("aria-expanded",!0),a("#"+e).toggleClass("collapsed");var h=!0,i=!0;a(".syllabus #"+g+" fieldset.collapsible").each(function(){h=a(this).hasClass("collapsed")&&h,i=!a(this).hasClass("collapsed")&&i});var j=a(".syllabus #"+g+" .collapsible-actions a");j.hasClass("collapse-all")&&h?(j.text(d),j.toggleClass("collapse-all expand-all")):j.hasClass("expand-all")&&i&&(j.text(c),j.toggleClass("collapse-all expand-all"))})}).fail(c.exception)}}});